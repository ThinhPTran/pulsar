<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>co.paralleluniverse.pulsar.actors documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Pulsar</span> <span class="project-version">0.7.7-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>co</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>paralleluniverse</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pulsar</span></div></div></li><li class="depth-4 branch current"><a href="co.paralleluniverse.pulsar.actors.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>actors</span></div></a></li><li class="depth-4 branch"><a href="co.paralleluniverse.pulsar.async.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>async</span></div></a></li><li class="depth-4 branch"><a href="co.paralleluniverse.pulsar.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-4 branch"><a href="co.paralleluniverse.pulsar.dataflow.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dataflow</span></div></a></li><li class="depth-4 branch"><a href="co.paralleluniverse.pulsar.interop.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>interop</span></div></a></li><li class="depth-4 branch"><a href="co.paralleluniverse.pulsar.lazyseq.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lazyseq</span></div></a></li><li class="depth-4"><a href="co.paralleluniverse.pulsar.rx.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rx</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-.21"><div class="inner"><span>!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-.21.21"><div class="inner"><span>!!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var--.3EInitializer"><div class="inner"><span>-&gt;Initializer</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var--.3EMailboxConfig"><div class="inner"><span>-&gt;MailboxConfig</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var--.3EPulsarEventHandler"><div class="inner"><span>-&gt;PulsarEventHandler</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-actor"><div class="inner"><span>actor</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-actor-builder"><div class="inner"><span>actor-builder</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-add-child.21"><div class="inner"><span>add-child!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-add-handler.21"><div class="inner"><span>add-handler!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-call.21"><div class="inner"><span>call!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-call-timed.21"><div class="inner"><span>call-timed!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-capitalize"><div class="inner"><span>capitalize</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-cast.21"><div class="inner"><span>cast!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-defactor"><div class="inner"><span>defactor</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-done.3F"><div class="inner"><span>done?</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-gen-event"><div class="inner"><span>gen-event</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-gen-fsm"><div class="inner"><span>gen-fsm</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-gen-server"><div class="inner"><span>gen-server</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-get-actor"><div class="inner"><span>get-actor</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-get-child"><div class="inner"><span>get-child</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-link.21"><div class="inner"><span>link!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-log"><div class="inner"><span>log</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-mailbox"><div class="inner"><span>mailbox</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-mailbox-of"><div class="inner"><span>mailbox-of</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-maketag"><div class="inner"><span>maketag</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-notify.21"><div class="inner"><span>notify!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-receive"><div class="inner"><span>receive</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-receive-timed"><div class="inner"><span>receive-timed</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-recur-swap"><div class="inner"><span>recur-swap</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-register.21"><div class="inner"><span>register!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-remove-and-terminate-child.21"><div class="inner"><span>remove-and-terminate-child!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-remove-child.21"><div class="inner"><span>remove-child!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-remove-handler.21"><div class="inner"><span>remove-handler!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-reply.21"><div class="inner"><span>reply!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-reply-error.21"><div class="inner"><span>reply-error!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-request.21"><div class="inner"><span>request!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-request-timed.21"><div class="inner"><span>request-timed!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-self"><div class="inner"><span>self</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-Server"><div class="inner"><span>Server</span></div></a></li><li class="depth-2 branch"><a href="co.paralleluniverse.pulsar.actors.html#var-handle-call"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handle-call</span></div></a></li><li class="depth-2 branch"><a href="co.paralleluniverse.pulsar.actors.html#var-handle-cast"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handle-cast</span></div></a></li><li class="depth-2 branch"><a href="co.paralleluniverse.pulsar.actors.html#var-handle-info"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handle-info</span></div></a></li><li class="depth-2 branch"><a href="co.paralleluniverse.pulsar.actors.html#var-handle-timeout"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handle-timeout</span></div></a></li><li class="depth-2 branch"><a href="co.paralleluniverse.pulsar.actors.html#var-init"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>init</span></div></a></li><li class="depth-2"><a href="co.paralleluniverse.pulsar.actors.html#var-terminate"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>terminate</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-set-state.21"><div class="inner"><span>set-state!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-set-timeout.21"><div class="inner"><span>set-timeout!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-shutdown.21"><div class="inner"><span>shutdown!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-spawn"><div class="inner"><span>spawn</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-spawn-link"><div class="inner"><span>spawn-link</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-state"><div class="inner"><span>state</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-strand-factory"><div class="inner"><span>strand-factory</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-supervisor"><div class="inner"><span>supervisor</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-trap.21"><div class="inner"><span>trap!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-unlink.21"><div class="inner"><span>unlink!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-unregister.21"><div class="inner"><span>unregister!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-unwatch.21"><div class="inner"><span>unwatch!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-vref"><div class="inner"><span>vref</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-watch.21"><div class="inner"><span>watch!</span></div></a></li><li class="depth-1"><a href="co.paralleluniverse.pulsar.actors.html#var-whereis"><div class="inner"><span>whereis</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">co.paralleluniverse.pulsar.actors</h1><div class="doc"><pre class="plaintext">Defines actors and behaviors like gen-server and supervisor
</pre></div><div class="public anchor" id="var-.21"><h3>!</h3><h4 class="type">macro</h4><div class="usage"><code>(! actor message)</code><code>(! actor arg &amp; args)</code></div><div class="doc"><pre class="plaintext">Sends a message to an actor.
This function returns `nil`.
If the actor's mailbox capacity has been exceeded, this function's behavior
is determined by the `overflow-policy` set by the receiving actor's `spawn`.

See: `spawn`</pre></div></div><div class="public anchor" id="var-.21.21"><h3>!!</h3><h4 class="type">macro</h4><div class="usage"><code>(!! actor message)</code><code>(!! actor arg &amp; args)</code></div><div class="doc"><pre class="plaintext">Sends a message to an actor synchronously.
This has the exact same semantics as !, but hints to the scheduler that the
current actor is about to wait for a response from the message's addressee.

See: `!`</pre></div></div><div class="public anchor" id="var--.3EInitializer"><h3>-&gt;Initializer</h3><div class="usage"><code>(-&gt;Initializer init terminate)</code><code>(-&gt;Initializer init)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var--.3EMailboxConfig"><h3>-&gt;MailboxConfig</h3><h4 class="type">macro</h4><div class="usage"><code>(-&gt;MailboxConfig size overflow-policy)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var--.3EPulsarEventHandler"><h3>-&gt;PulsarEventHandler</h3><div class="usage"><code>(-&gt;PulsarEventHandler handler)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class co.paralleluniverse.pulsar.actors.PulsarEventHandler.
</pre></div></div><div class="public anchor" id="var-actor"><h3>actor</h3><h4 class="type">macro</h4><div class="usage"><code>(actor bindings &amp; body)</code></div><div class="doc"><pre class="plaintext">Creates a new actor.
</pre></div></div><div class="public anchor" id="var-actor-builder"><h3>actor-builder</h3><div class="usage"><code>(actor-builder f &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-add-child.21"><h3>add-child!</h3><div class="usage"><code>(add-child! supervisor id mode max-restarts duration unit shutdown-deadline-millis &amp; args)</code></div><div class="doc"><pre class="plaintext">Adds an actor to a supervisor
</pre></div></div><div class="public anchor" id="var-add-handler.21"><h3>add-handler!</h3><div class="usage"><code>(add-handler! ge handler)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-call.21"><h3>call!</h3><div class="usage"><code>(call! gs m)</code><code>(call! gs m &amp; args)</code></div><div class="doc"><pre class="plaintext">Makes a synchronous call to a gen-server and returns the response
</pre></div></div><div class="public anchor" id="var-call-timed.21"><h3>call-timed!</h3><div class="usage"><code>(call-timed! gs timeout unit m)</code><code>(call-timed! gs timeout unit m &amp; args)</code></div><div class="doc"><pre class="plaintext">Makes a synchronous call to a gen-server and returns the response
</pre></div></div><div class="public anchor" id="var-capitalize"><h3>capitalize</h3><div class="usage"><code>(capitalize s)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-cast.21"><h3>cast!</h3><div class="usage"><code>(cast! gs m)</code><code>(cast! gs m &amp; args)</code></div><div class="doc"><pre class="plaintext">Makes an asynchronous call to a gen-server
</pre></div></div><div class="public anchor" id="var-defactor"><h3>defactor</h3><h4 class="type">macro</h4><div class="usage"><code>(defactor name doc-string? attr-map? [params*] body)</code></div><div class="doc"><pre class="plaintext">Defines a new actor template.
</pre></div></div><div class="public anchor" id="var-done.3F"><h3>done?</h3><div class="usage"><code>(done? a)</code></div><div class="doc"><pre class="plaintext">Tests whether or not an actor has terminated.
</pre></div></div><div class="public anchor" id="var-gen-event"><h3>gen-event</h3><div class="usage"><code>(gen-event :name? :timeout? :mailbox-size? :overflow-policy? server &amp; args)</code></div><div class="doc"><pre class="plaintext">Creates (but doesn't start) a new gen-event
</pre></div></div><div class="public anchor" id="var-gen-fsm"><h3>gen-fsm</h3><div class="usage"><code>(gen-fsm :name? :mailbox-size? :overflow-policy? initial-state)</code></div><div class="doc"><pre class="plaintext">Creates (but doesn't start) a new gen-fsm
</pre></div></div><div class="public anchor" id="var-gen-server"><h3>gen-server</h3><h4 class="type">macro</h4><div class="usage"><code>(gen-server :name? :timeout? :mailbox-size? :overflow-policy? server &amp; args)</code></div><div class="doc"><pre class="plaintext">Creates (but doesn't start) a new gen-server
</pre></div></div><div class="public anchor" id="var-get-actor"><h3>get-actor</h3><div class="usage"><code>(get-actor a)</code></div><div class="doc"><pre class="plaintext">If the argument is an actor -- returns it. If not, looks up a registered
actor with the argument as its name.

The name can be a string or a keyword, in which case it's identical to the keyword's name
(i.e. a name of `"foo"` is the same as `:foo`).</pre></div></div><div class="public anchor" id="var-get-child"><h3>get-child</h3><div class="usage"><code>(get-child sup id)</code></div><div class="doc"><pre class="plaintext">Returns a supervisor's child by id
</pre></div></div><div class="public anchor" id="var-link.21"><h3>link!</h3><div class="usage"><code>(link! actor2)</code><code>(link! actor1 actor2)</code></div><div class="doc"><pre class="plaintext">Links two actors. If only one actor is specified, links the current actor with the
specified actor.

A link is symmetrical. When two actors are linked, when one of them dies, the other throws
a `co.paralleluniverse.actors.LifecycleException` exception which, unless caught, kills it
as well.
If `:trap true` was added to the actor's `spawn` call, or if `(trap!)` has been called by
the actor, rather than an exception being thrown, an exit message is sent to the actor.
The message is of the same structure as the one sent as a result of `watch!` except that
the watch element is `nil`.

See: `unlink!`, `watch!`</pre></div></div><div class="public anchor" id="var-log"><h3>log</h3><h4 class="type">macro</h4><div class="usage"><code>(log level message &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-mailbox"><h3>mailbox</h3><div class="usage"></div><div class="doc"><pre class="plaintext">@mailbox is the mailbox channel of the currently running actor
</pre></div></div><div class="public anchor" id="var-mailbox-of"><h3>mailbox-of</h3><div class="usage"><code>(mailbox-of actor)</code></div><div class="doc"><pre class="plaintext">Returns the mailbox of the given actor.
</pre></div></div><div class="public anchor" id="var-maketag"><h3>maketag</h3><div class="usage"><code>(maketag)</code></div><div class="doc"><pre class="plaintext">Returns a random, probably unique, identifier.
(this is similar to Erlang's makeref).</pre></div></div><div class="public anchor" id="var-notify.21"><h3>notify!</h3><div class="usage"><code>(notify! ge event)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-receive"><h3>receive</h3><h4 class="type">macro</h4><div class="usage"><code>(receive)</code><code>(receive patterns* &lt;:after ms action&gt;?)</code><code>(receive [binding transformation?] patterns* &lt;:after ms action&gt;?)</code></div><div class="doc"><pre class="plaintext">Receives a message in the current actor and processes it.

Receive performs pattern matching (with free var binding) on the message.
Example:
  (let [actor (spawn
               #(receive
                   :abc "yes!"
                   [:why? answer] answer
                   :else "oy"))]
     (! actor [:why? "because!"])
     (join actor)) ; =&gt; "because!"

`receive` performs a *selective receive*. If the next message in the mailbox does
not match any of the patterns (and an `:else` clause is not present), it is skipped,
and the next message will be attempted.
`receive` will block until a matching message arrives, and will return the value of
the matching clause.

Skipped messages are not discarded, but are left in the mailbox. Every call to `receive`
will attempt to match any message in the mailbox, starting with the oldest.
(Skipped messages migh accumulate in the mailbox if not matched, so it's good practice
to at least occasionally call a `receive` that has an `:else` clause.)

If the first element of the `receive` expression is a vector, it is used for binding:
The vector's first element is the name assigned to the entire message, and the second,
if it exists, is a transformation function, of one argument, that will be applied to
the message before binding and before pattern-matching:

   (receive [m transform]
     [:foo val] (println "got foo:" val)
     :else      (println "got" m))

 Now `m` – and the value we're matching – is the the transformed value.

A timeout in milliseconds, may be specified in an `:after` clause, which must appear last:

  (receive [m transform]
     [:foo val] (println "got foo:" val)
     :else      (println "got" m)
     :after 30  (println "nothing..."))

`receive` may be called without parameters, in which case it will indefinitely wait for
the next (without any selection) message and return it. For a non-selective receive with
a timeout, use `timed-receive`.</pre></div></div><div class="public anchor" id="var-receive-timed"><h3>receive-timed</h3><div class="usage"><code>(receive-timed timeout)</code></div><div class="doc"><pre class="plaintext">Waits (and returns) for a message for up to timeout ms. If time elapses -- returns nil.
</pre></div></div><div class="public anchor" id="var-recur-swap"><h3>recur-swap</h3><h4 class="type">macro</h4><div class="usage"><code>(recur-swap f &amp; args)</code></div><div class="doc"><pre class="plaintext">Recurs to `f` (which is the actor function), checking for possible hot code swaps
and applying them.</pre></div></div><div class="public anchor" id="var-register.21"><h3>register!</h3><div class="usage"><code>(register! actor-name actor)</code><code>(register! actor-or-name)</code><code>(register!)</code></div><div class="doc"><pre class="plaintext">Registers an actor in the actor registry.
The actor is registered by its name, or, if it doesn't have a name, one must be supplied
to this function. The name can be a string or a keyword, in which case it's identical to the
keyword's name (i.e. a name of `"foo"` is the same as `:foo`).</pre></div></div><div class="public anchor" id="var-remove-and-terminate-child.21"><h3>remove-and-terminate-child!</h3><div class="usage"><code>(remove-and-terminate-child! supervisor id)</code></div><div class="doc"><pre class="plaintext">Removes an actor from a supervisor and terminates the actor
</pre></div></div><div class="public anchor" id="var-remove-child.21"><h3>remove-child!</h3><div class="usage"><code>(remove-child! supervisor id)</code></div><div class="doc"><pre class="plaintext">Removes an actor from a supervisor
</pre></div></div><div class="public anchor" id="var-remove-handler.21"><h3>remove-handler!</h3><div class="usage"><code>(remove-handler! ge handler)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-reply.21"><h3>reply!</h3><div class="usage"><code>(reply! to id res)</code></div><div class="doc"><pre class="plaintext">Replies to a message sent to the current gen-server
</pre></div></div><div class="public anchor" id="var-reply-error.21"><h3>reply-error!</h3><div class="usage"><code>(reply-error! to id error)</code></div><div class="doc"><pre class="plaintext">Replies with an error to a message sent to the current gen-server
</pre></div></div><div class="public anchor" id="var-request.21"><h3>request!</h3><h4 class="type">macro</h4><div class="usage"><code>(request! actor &amp; message)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-request-timed.21"><h3>request-timed!</h3><h4 class="type">macro</h4><div class="usage"><code>(request-timed! timeout actor &amp; message)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-self"><h3>self</h3><div class="usage"></div><div class="doc"><pre class="plaintext">@self is the currently running actor
</pre></div></div><div class="public anchor" id="var-Server"><h3>Server</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-handle-call"><h3>handle-call</h3><div class="usage"><code>(handle-call this from id message)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-handle-cast"><h3>handle-cast</h3><div class="usage"><code>(handle-cast this from id message)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-handle-info"><h3>handle-info</h3><div class="usage"><code>(handle-info this message)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-handle-timeout"><h3>handle-timeout</h3><div class="usage"><code>(handle-timeout this)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-init"><h3>init</h3><div class="usage"><code>(init this)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-terminate"><h3>terminate</h3><div class="usage"><code>(terminate this cause)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></div></div><div class="public anchor" id="var-set-state.21"><h3>set-state!</h3><div class="usage"><code>(set-state! x)</code></div><div class="doc"><pre class="plaintext">Sets the state of the currently running actor.
The state can be read with `@state`.</pre></div></div><div class="public anchor" id="var-set-timeout.21"><h3>set-timeout!</h3><div class="usage"><code>(set-timeout! timeout unit)</code></div><div class="doc"><pre class="plaintext">Sets the timeout for the current gen-server
</pre></div></div><div class="public anchor" id="var-shutdown.21"><h3>shutdown!</h3><div class="usage"><code>(shutdown! gs)</code><code>(shutdown!)</code></div><div class="doc"><pre class="plaintext">Asks a gen-server or a supervisor to shut down
</pre></div></div><div class="public anchor" id="var-spawn"><h3>spawn</h3><h4 class="type">macro</h4><div class="usage"><code>(spawn :name? :mailbox-size? :overflow-policy? :trap? :lifecycle-handler? :scheduler? :stack-size? f &amp; args)</code></div><div class="doc"><pre class="plaintext">Creates and starts a new actor running in its own, newly-spawned fiber.

f - the actor function, or an actor created with actor, gen-server etc..
args - (optional) arguments to for the function.

If `f` is an actor rather than an actor function, the optional parameters will be ignored.

Options:
* `:name` - The actor's name (that's also given to the fiber running the actor). The name can be a string
            or a keyword, in which case it's identical to the keyword's name (i.e. a name of `"foo"` is the same as `:foo`).
* `:mailbox-size` - The number of messages that can wait in the mailbox,
                    or -1 (the default) for an unbounded mailbox.
* `:overflow-policy` - What to do if a bounded mailbox overflows. Can be on of:
   - `:throw` - an exception will be thrown *into the receiving actor*
   - `:drop`  -  the message will be silently discarded
   - `:block` - the sender will block until there's room in the mailbox.
* `:trap` - If set to `true`, linked actors' death will send an exit message rather than throw an exception.
* `:lifecycle-handle` - A function that will be called to handle special messages sent to the actor.
                        If set to `nil` (the default), the default handler is used, which is what you
                        want in all circumstances, except for some actors that are meant to do some
                        special tricks.
* `:scheduler` - The `FiberScheduler` in which the fiber will run.
               If `:fj-pool` is not specified, then the pool used will be either the pool of the fiber calling
               `spawn-fiber`, or, if `spawn-fiber` is not called from within a fiber, a default pool.
* `:stack-size` - The initial fiber stack size.</pre></div></div><div class="public anchor" id="var-spawn-link"><h3>spawn-link</h3><h4 class="type">macro</h4><div class="usage"><code>(spawn-link :name? :mailbox-size? :overflow-policy? :lifecycle-handler? :stack-size? :pool? f &amp; args)</code></div><div class="doc"><pre class="plaintext">Creates and starts, as by `spawn`, a new actor, and links it to @self.

See: `link!`</pre></div></div><div class="public anchor" id="var-state"><h3>state</h3><div class="usage"></div><div class="doc"><pre class="plaintext">@state is the state of the currently running actor.
The state can be set with `set-state!`</pre></div></div><div class="public anchor" id="var-strand-factory"><h3>strand-factory</h3><div class="usage"><code>(strand-factory f)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-supervisor"><h3>supervisor</h3><div class="usage"><code>(supervisor name restart-strategy init)</code><code>(supervisor restart-strategy init)</code></div><div class="doc"><pre class="plaintext">Creates (but doesn't start) a new supervisor
</pre></div></div><div class="public anchor" id="var-trap.21"><h3>trap!</h3><div class="usage"><code>(trap!)</code></div><div class="doc"><pre class="plaintext">Sets the current actor to trap lifecycle events (like a dead linked actor)
and turn them into exit messages.
Same as adding `:trap true` to `spawn`.</pre></div></div><div class="public anchor" id="var-unlink.21"><h3>unlink!</h3><div class="usage"><code>(unlink! actor2)</code><code>(unlink! actor1 actor2)</code></div><div class="doc"><pre class="plaintext">Unlinks two actors. If only one actor is specified, unlinks the current actor from the
specified actor.

See: `link!`</pre></div></div><div class="public anchor" id="var-unregister.21"><h3>unregister!</h3><div class="usage"><code>(unregister! x)</code><code>(unregister!)</code></div><div class="doc"><pre class="plaintext">Unregisters an actor.

If no argument is supplied, unregisters the current actor.</pre></div></div><div class="public anchor" id="var-unwatch.21"><h3>unwatch!</h3><div class="usage"><code>(unwatch! actor2 monitor)</code></div><div class="doc"><pre class="plaintext">Makes an actor stop watching another actor
</pre></div></div><div class="public anchor" id="var-vref"><h3>vref</h3><div class="usage"><code>(vref x)</code></div><div class="doc"><pre class="plaintext">Turns a value into an IDeref (makes it deref-able)
</pre></div></div><div class="public anchor" id="var-watch.21"><h3>watch!</h3><div class="usage"><code>(watch! actor)</code></div><div class="doc"><pre class="plaintext">Makes the current actor watch another actor. Returns a watch object which is then
used in all relevant exit messages, and should also be used when calling `unwatch!`.

Unlike links, watches are assymetrical. If a the watched actor dies, the watching
actor (the actor calling this function), receives an exit message.

The message is a vector of 4 elements, of the following structure:

[:exit w actor cause]

`w` - the watch object returned from the call to `watch!`, which is responsible for the
      message being sent. If the `watch!` function is called more than once to watch
      the same actor, an exit message will be received several times, each one corresponding
      to an invocation of `watch!`, and each with a different value for `w`.
`actor` - the dead (watched) actor.
`cause` - the dead actor's cause of death: `nil` for a normal termination; a Throwable for
          an exceptional termination.

See: `unwatch!`, `link!`</pre></div></div><div class="public anchor" id="var-whereis"><h3>whereis</h3><div class="usage"><code>(whereis actor-name)</code><code>(whereis actor-name timeout unit)</code></div><div class="doc"><pre class="plaintext">Returns a registered actor by name, blocking until one is registered
</pre></div></div></div></body></html>